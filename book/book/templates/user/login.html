<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Log Book</title>
    <link rel="icon" type="image/x-icon" href="#">
    

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.5/jquery.validate.min.js"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

  </head>
  <body class="sign-body">
   
    <div class="container mt-5">
      <div class="row d-flex justify-content-center">
        <div class="col-md-6">
          <form class="signin-form" method="POST" action="{{ url_for('user.login') }}">
            <div class="card px-5 py-5">
                <div class="mb-3 text-center">
                    <h2>Sign In</h2>
                </div>

                <div class="mb-3">
                  {% with messages = get_flashed_messages(with_categories=true) %}
                    {% if messages %}
                        {% for category, message in messages %}
                            <div class="alert alert-{{ category }}" role="alert">
                                {{ message }}
                            </div>
                        {% endfor %}
                    {% endif %}
                {% endwith %}
                </div>

              <div class="mb-3">
                <label for="email" class="form-label">Email address</label>
                <input class="form-control" id="email" name="email" aria-describedby="emailHelp" required/>
                <div id="emailHelp" class="form-text"></div>
              </div>
              <div class="mb-3">
                <label for="password" class="form-label">Password</label>
                <input type="password" class="form-control" id="password" name="password" required/>
              </div>
              <div class="mb-3 d-flex justify-content-between">
              <button type="submit" class="btn btn-primary">Login</button>
              <a href="{{url_for('user.register')}}">Sign Up Here</a>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>

    <script>
      $(".signin-form").validate({
        rules: {
          email: {
            required: true,
            email: true
          },
          password: "required"
        },
        messages: {
          email: {
            required: "Please provide email",
            email: "Please provide valid email"
          },          
          password: "Please provide password",
        }
      });
    </script>
  </body>
</html>
